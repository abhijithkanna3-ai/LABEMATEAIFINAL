{% extends "base.html" %}

{% block title %}Laboratory Safety Center - LabMate AI{% endblock %}

{% block content %}
<div class="container">
    <!-- Header -->
    <div class="row mb-4">
        <div class="col">
            <div class="alert alert-warning">
                <i class="fas fa-exclamation-triangle me-2"></i>
                <strong>Laboratory Safety Center</strong><br>
                Access emergency protocols and safety procedures. In case of emergency, call 911 immediately.
            </div>
        </div>
    </div>

    <div class="row">
        <!-- Emergency Protocols -->
        <div class="col-lg-6 mb-4">
            <div class="card h-100">
                <div class="card-header bg-danger text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-ambulance me-2"></i>Emergency Protocols
                    </h5>
                </div>
                <div class="card-body">
                    <div class="list-group list-group-flush">
                        <button class="list-group-item list-group-item-action d-flex align-items-center" 
                                data-bs-toggle="modal" data-bs-target="#spillModal">
                            <i class="fas fa-tint text-danger me-3"></i>
                            <div>
                                <div class="fw-medium">Chemical Spill Response</div>
                                <small class="text-muted">Immediate containment procedures</small>
                            </div>
                        </button>
                        <button class="list-group-item list-group-item-action d-flex align-items-center" 
                                data-bs-toggle="modal" data-bs-target="#fireModal">
                            <i class="fas fa-fire text-danger me-3"></i>
                            <div>
                                <div class="fw-medium">Fire Emergency</div>
                                <small class="text-muted">Evacuation and suppression</small>
                            </div>
                        </button>
                        <button class="list-group-item list-group-item-action d-flex align-items-center" 
                                data-bs-toggle="modal" data-bs-target="#exposureModal">
                            <i class="fas fa-user-injured text-danger me-3"></i>
                            <div>
                                <div class="fw-medium">Chemical Exposure</div>
                                <small class="text-muted">First aid and treatment</small>
                            </div>
                        </button>
                        <button class="list-group-item list-group-item-action d-flex align-items-center" 
                                data-bs-toggle="modal" data-bs-target="#generalModal">
                            <i class="fas fa-exclamation-circle text-danger me-3"></i>
                            <div>
                                <div class="fw-medium">General Emergency</div>
                                <small class="text-muted">All-purpose emergency response</small>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Voice Safety Assistant -->
        <div class="col-lg-6 mb-4">
            <div class="card h-100">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-microphone me-2"></i>Voice Safety Assistant
                    </h5>
                </div>
                <div class="card-body text-center">
                    <p class="mb-4">Ask for safety protocols using voice commands.</p>
                    <button class="btn btn-primary btn-lg mb-3" onclick="startVoiceCommand('safety')">
                        <i class="fas fa-microphone me-2"></i>Voice Command
                    </button>
                    <div class="text-muted small">
                        Try: "Spill protocol", "Fire emergency", "Eye wash procedure"
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PPE Guidelines -->
    <div class="row">
        <div class="col">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">
                        <i class="fas fa-hard-hat me-2 text-warning"></i>Personal Protective Equipment (PPE) Guidelines
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row g-4">
                        <div class="col-md-3 text-center">
                            <div class="card border-primary h-100">
                                <div class="card-body">
                                    <i class="fas fa-eye text-primary fs-1 mb-3"></i>
                                    <h6>Eye Protection</h6>
                                    <p class="small text-muted">Safety glasses, goggles, face shields</p>
                                    <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#eyeProtectionModal">Details</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 text-center">
                            <div class="card border-warning h-100">
                                <div class="card-body">
                                    <i class="fas fa-lungs text-warning fs-1 mb-3"></i>
                                    <h6>Respiratory</h6>
                                    <p class="small text-muted">Masks, respirators, SCBAs</p>
                                    <button class="btn btn-sm btn-outline-warning" data-bs-toggle="modal" data-bs-target="#respiratoryProtectionModal">Details</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 text-center">
                            <div class="card border-success h-100">
                                <div class="card-body">
                                    <i class="fas fa-hands text-success fs-1 mb-3"></i>
                                    <h6>Hand Protection</h6>
                                    <p class="small text-muted">Gloves, chemical resistant</p>
                                    <button class="btn btn-sm btn-outline-success" data-bs-toggle="modal" data-bs-target="#handProtectionModal">Details</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 text-center">
                            <div class="card border-info h-100">
                                <div class="card-body">
                                    <i class="fas fa-shirt text-info fs-1 mb-3"></i>
                                    <h6>Body Protection</h6>
                                    <p class="small text-muted">Lab coats, aprons, suits</p>
                                    <button class="btn btn-sm btn-outline-info" data-bs-toggle="modal" data-bs-target="#bodyProtectionModal">Details</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Emergency Contacts -->
    <div class="row mt-4">
        <div class="col">
            <div class="card border-danger">
                <div class="card-header bg-danger text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-phone me-2"></i>Emergency Contacts
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3 mb-3">
                            <div class="text-center">
                                <div class="fw-bold text-danger">Immediate Emergency</div>
                                <div class="display-6 text-danger fw-bold">911</div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="text-center">
                                <div class="fw-bold">Lab Personnel</div>
                                <div class="h5">Lab Supervisor: Extension 2234</div>
                                <div class="small text-muted">Safety Officer: Extension 5678</div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="text-center">
                                <div class="fw-bold">Support Services</div>
                                <div class="h6">Campus Security: Extension 3333</div>
                                <div class="small text-muted">Environmental Health: Extension 4567</div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="text-center">
                                <div class="fw-bold">Poison Control</div>
                                <div class="h5">1-800-222-1222</div>
                                <div class="small text-muted">24/7 Emergency Hotline</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Emergency Protocol Modals -->
<div class="modal fade" id="spillModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title">Chemical Spill Response Protocol</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <ol class="list-group list-group-numbered">
                    <li class="list-group-item"><strong>Alert others</strong> - Warn people in the area</li>
                    <li class="list-group-item"><strong>Assess the spill</strong> - Determine chemical and quantity</li>
                    <li class="list-group-item"><strong>Contain the spill</strong> - Use spill kit if safe to do so</li>
                    <li class="list-group-item"><strong>Ventilate area</strong> - Turn on fume hoods and ventilation</li>
                    <li class="list-group-item"><strong>Clean up</strong> - Use appropriate neutralizing agents</li>
                    <li class="list-group-item"><strong>Report incident</strong> - Contact safety officer immediately</li>
                </ol>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="fireModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title">Fire Emergency Protocol</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <ol class="list-group list-group-numbered">
                    <li class="list-group-item"><strong>Call 911</strong> - Report fire immediately</li>
                    <li class="list-group-item"><strong>Evacuate area</strong> - Alert others and exit building</li>
                    <li class="list-group-item"><strong>Close doors</strong> - If safe to do so, close doors behind you</li>
                    <li class="list-group-item"><strong>Use fire extinguisher</strong> - Only if trained and fire is small</li>
                    <li class="list-group-item"><strong>Meet at assembly point</strong> - Go to designated meeting area</li>
                    <li class="list-group-item"><strong>Do not re-enter</strong> - Wait for all-clear from fire department</li>
                </ol>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="exposureModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title">Chemical Exposure Protocol</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <ol class="list-group list-group-numbered">
                    <li class="list-group-item"><strong>Remove from source</strong> - Get person away from chemical</li>
                    <li class="list-group-item"><strong>Flush with water</strong> - Use emergency shower/eyewash for 15+ minutes</li>
                    <li class="list-group-item"><strong>Remove contaminated clothing</strong> - If chemical is on clothing</li>
                    <li class="list-group-item"><strong>Call for medical help</strong> - Contact emergency services</li>
                    <li class="list-group-item"><strong>Provide MSDS</strong> - Give safety data sheet to medical personnel</li>
                    <li class="list-group-item"><strong>Monitor victim</strong> - Watch for signs of shock or complications</li>
                </ol>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="generalModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title">General Emergency Protocol</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <ol class="list-group list-group-numbered">
                    <li class="list-group-item"><strong>Assess the situation</strong> - Determine type and severity of emergency</li>
                    <li class="list-group-item"><strong>Call 911</strong> - If serious injury or immediate danger</li>
                    <li class="list-group-item"><strong>Provide first aid</strong> - If trained and safe to do so</li>
                    <li class="list-group-item"><strong>Evacuate if necessary</strong> - Move to safe location</li>
                    <li class="list-group-item"><strong>Contact lab supervisor</strong> - Report incident immediately</li>
                    <li class="list-group-item"><strong>Document incident</strong> - Complete incident report</li>
                </ol>
            </div>
        </div>
    </div>
</div>

<!-- PPE Detail Modals -->
<div class="modal fade" id="eyeProtectionModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title">
                    <i class="fas fa-eye me-2"></i>Eye Protection Guidelines
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-4">
                    <h6 class="text-primary">Description:</h6>
                    <p>Eye protection is essential to prevent injury from flying particles, chemical splashes, radiation, and infectious materials.</p>
                </div>
                
                <div class="mb-4">
                    <h6 class="text-primary">Common Types:</h6>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            <div>
                                <strong>Safety Glasses</strong> – Basic impact protection
                            </div>
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            <div>
                                <strong>Goggles</strong> – Provide a seal around the eyes, ideal for liquid splashes
                            </div>
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            <div>
                                <strong>Face Shields</strong> – Used in combination with goggles for full-face protection
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="mb-4">
                    <h6 class="text-primary">When to Use:</h6>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                            Handling chemicals or hazardous materials
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                            Working with power tools or grinding equipment
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                            Exposure to UV or infrared radiation
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="respiratoryProtectionModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-warning text-dark">
                <h5 class="modal-title">
                    <i class="fas fa-lungs me-2"></i>Respiratory Protection Guidelines
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-4">
                    <h6 class="text-warning">Description:</h6>
                    <p>Respiratory PPE protects against inhaling harmful dusts, fumes, vapors, and gases.</p>
                </div>
                
                <div class="mb-4">
                    <h6 class="text-warning">Common Types:</h6>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            <div>
                                <strong>Masks</strong> – Basic protection (e.g., surgical or dust masks)
                            </div>
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            <div>
                                <strong>Respirators</strong> – Filter air or supply clean air (e.g., N95, half-face, full-face)
                            </div>
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            <div>
                                <strong>SCBAs (Self-Contained Breathing Apparatus)</strong> – Provide clean air from a tank for high-risk environments
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="mb-4">
                    <h6 class="text-warning">When to Use:</h6>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                            In areas with poor ventilation or airborne contaminants
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                            During chemical handling or paint spraying
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                            Emergency response or confined space entry
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="handProtectionModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-success text-white">
                <h5 class="modal-title">
                    <i class="fas fa-hands me-2"></i>Hand Protection Guidelines
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-4">
                    <h6 class="text-success">Description:</h6>
                    <p>Hands are exposed to cuts, burns, chemicals, and infections, making gloves a critical PPE element.</p>
                </div>
                
                <div class="mb-4">
                    <h6 class="text-success">Common Types:</h6>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            <div>
                                <strong>Chemical-Resistant Gloves</strong> – For handling corrosive or toxic materials
                            </div>
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            <div>
                                <strong>Cut-Resistant Gloves</strong> – For sharp objects or tools
                            </div>
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            <div>
                                <strong>Heat-Resistant Gloves</strong> – For high-temperature applications
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="mb-4">
                    <h6 class="text-success">When to Use:</h6>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                            When dealing with chemicals, hot surfaces, or machinery
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                            During lab work or industrial tasks
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                            Anytime skin contact with hazardous materials is possible
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="bodyProtectionModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title">
                    <i class="fas fa-shirt me-2"></i>Body Protection Guidelines
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-4">
                    <h6 class="text-info">Description:</h6>
                    <p>Body PPE guards against spills, splashes, and impact, keeping clothing and skin safe.</p>
                </div>
                
                <div class="mb-4">
                    <h6 class="text-info">Common Types:</h6>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            <div>
                                <strong>Lab Coats</strong> – Light protection in lab environments
                            </div>
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            <div>
                                <strong>Aprons</strong> – For tasks involving liquids or grease
                            </div>
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            <div>
                                <strong>Suits</strong> – Full-body protection for hazardous or infectious environments
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="mb-4">
                    <h6 class="text-info">When to Use:</h6>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                            Working with hazardous liquids or biological agents
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                            In environments with flying debris or sparks
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                            Chemical or cleanroom environments
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/voice.js') }}"></script>
{% endblock %}
